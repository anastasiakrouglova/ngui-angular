<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Gadget Details
    </ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab2"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<body class="bg" *ngIf="edit == false">
  <div class="name-container" align="center">
    <!-- <h3>{{ id }}</h3> -->
    <img src="./assets/0.svg" alt="icon">
    <h3>{{ nameOfGadget }}</h3>
  </div>


  <!-- Displays static needs -->
  <div class="staticNeeds">
    <h3 class="title-detail">Needs on a regular basis</h3>
    <ul class="ul-day-of-week">
        <li *ngFor="let day of staticDays" class="day-of-week">{{day.day_of_week}}</li>
    </ul>
  </div>

  <!-- Displays static needs -->
  <div class="dynamicNeeds">
    <h3 class="title-detail">Needs on specific days</h3>
    <ul class="ul-day-of-week dynamic-cont">
      <li class="day-of-week dynamic-day" *ngFor="let day of dynamicDays">{{day.needed_on}}</li>
    </ul>
  </div>


  <div class="confbutton">
    <ion-button expand="block" (click)="editPage()">Edit</ion-button>
  </div>
</body>






<!-- EDIT GADGET -->
<body class="bg" *ngIf="edit == true">
  <div>
    <!-- Rename Gadget -->
    <h3>
      <ion-input type='text' placeholder="{{ nameOfGadget }}" [(ngModel)]="gadgetName"></ion-input>
    </h3>
  </div>
  <br>

  <div class="staticNeeds">
    <ion-list>
      <ion-item *ngFor="let day of days">
        <ion-label>{{day.val}}</ion-label>
        <ion-checkbox slot="start" checked="true" [(ngModel)]="day.isChecked"></ion-checkbox>
      </ion-item>
    </ion-list>
  </div>

  <div class="dynamicNeeds">
    <ion-list>
      <ion-datetime locale="fr-FR" #dateNeed></ion-datetime>

      <!-- <input type="text" placeholder="Add date" #dateNeed> -->
      <button (click)="addDynamicNeed(dateNeed.value)">Add day</button>

      <ion-item *ngFor="let dyn of addedDynNeeds; let i = index">
        <ion-label>{{dyn.needed_on}}</ion-label>
        <button (click)="deleteDyn(i)">Delete</button>
      </ion-item>

    </ion-list>
  </div>

  <div class="confbutton">
    <ion-button expand="block" (click)="deleteItem(currGadget.id, $event)" color="danger">Delete Gadget</ion-button>
    <br>
    <ion-button expand="block" (click)="updateGadget()">Save</ion-button>
  </div>

  <div class="confbutton">

  </div>
</body>
