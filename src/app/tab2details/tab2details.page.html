<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Gadget Details
    </ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab2"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="edit == false">
  <div align="center">
    <!-- <h3>{{ id }}</h3> -->
    <h3>{{ nameOfGadget }}</h3>
  </div>


  <!-- Displays static needs -->
  <div class="staticNeeds">
    <p><strong>Needs on regular basis</strong></p>
    <ion-list>
      <ion-item *ngFor="let day of staticDays">
        <ion-label>{{day.day_of_week}}</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- Displays static needs -->
  <div class="dynamicNeeds">
    <p><strong>Needs on specific days</strong></p>
    <ion-list>
      <ion-item *ngFor="let day of dynamicDays">
        <ion-label>{{day.needed_on}}</ion-label>
      </ion-item>
    </ion-list>
  </div>


  <div class="confbutton">
    <ion-button expand="block" (click)="editPage()">Edit</ion-button>
  </div>
</ion-content>






<!-- EDIT GADGET -->
<ion-content *ngIf="edit == true">
  <div align="center">
    <!-- Rename Gadget -->
    <h3>
      <ion-input type='text' placeholder="{{ nameOfGadget }}" [(ngModel)]="gadgetName"></ion-input>
    </h3>
  </div>
  <br>

  <div class="staticNeeds">
    <ion-list>
      <ion-item *ngFor="let day of days">
        <ion-label>{{day.val}}</ion-label>
        <ion-checkbox slot="start" checked="true" [(ngModel)]="day.isChecked"></ion-checkbox>
      </ion-item>
    </ion-list>
  </div>

  <div class="dynamicNeeds">
    <ion-list>
      <ion-datetime locale="fr-FR" #dateNeed></ion-datetime>

      <!-- <input type="text" placeholder="Add date" #dateNeed> -->
      <button (click)="addDynamicNeed(dateNeed.value)">Add day</button>

      <ion-item *ngFor="let dyn of addedDynNeeds; let i = index">
        <ion-label>{{dyn.needed_on}}</ion-label>
        <button (click)="deleteDyn(i)">Delete</button>
      </ion-item>

    </ion-list>
  </div>

  <div class="confbutton">
    <ion-button expand="block" (click)="deleteItem(currGadget.id, $event)" color="danger">Delete Gadget</ion-button>
    <br>
    <ion-button expand="block" (click)="updateGadget()">Save</ion-button>
  </div>

  <div class="confbutton">

  </div>
</ion-content>